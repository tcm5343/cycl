name: Release

on:
  release:
    types: [ published ]

jobs:
  build:
    strategy:
      fail-fast: false
      matrix:
        os:
        - 'ubuntu-24.04'  
        - 'ubuntu-24.04-arm'
    runs-on: ${{ matrix.os }}
    steps:
        - name: Dump GitHub context
          env:
            GITHUB_CONTEXT: ${{ toJSON(github) }}
          run: echo "$GITHUB_CONTEXT"

        - name: prints
          shell: bash
          run: |
            echo "${{ steps.release.outputs.tag }}"
            echo "${{ github.event.release.target_commitish }}"

        - uses: actions/checkout@v4
          with:
              ref: ${{ github.event.release.target_commitish }}
